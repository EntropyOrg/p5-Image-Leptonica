name    = Image-Leptonica
author  = Zakariyya Mughal <zmughal@cpan.org>
license = Perl_5
copyright_holder = Zakariyya Mughal
copyright_year   = 2014
version = 0.03

; authordep Dist::Zilla::Plugin::MakeMaker::Awesome

[Prereqs / Develop ]
-phase = develop
Dist::Zilla::Plugin::MakeMaker::Awesome = 0

[Run::BeforeBuild]
run = tool/build-inline
[Run::AfterBuild]
run = rm "typemap" "lib/Image/Leptonica/leptonica.h"

[@Filter]
-bundle = @Basic
-remove = ExtraTests
-remove = MakeMaker

[PruneFiles]
filename = test.db
filename = doc.json
match = .*build-docs.*

[AutoPrereqs]
[PkgVersion]
[CheckChangeLog]
[GithubMeta]
[PodWeaver]
[PodCoverageTests]
[=inc::LeptonicaMakeMaker]

[ReadmeAnyFromPod / ReadmePodInRoot]
; generate README.pod in root (so that it can be displayed on GitHub)
type = pod
filename = README.pod
location = root

[Git::CommitBuild]
build =
release_branch  = build/%b
release_message = Release build of v%v (on %b)

[@Git]
allow_dirty = dist.ini
allow_dirty = README
push_to = origin
push_to = origin build/master:build/master

[Prereqs]
Alien::Leptonica = 0
Inline::MakeMaker = 0.45
ExtUtils::MakeMaker = 6.52
ExtUtils::Depends = 0

[Prereqs / ConfigureRequires]
Alien::Leptonica = 0
Inline::MakeMaker = 0.45

[Prereqs / Suggests]
-phase = runtime
-relationship = recommends
PDL = 0
